{"version":3,"sources":["pages/Chaostools/Market/MarketList.js","pages/Chaostools/Market/index.js"],"names":["MarketList","props","fetchPublicChaostools","this","data","publics","_","isEmpty","map","name","fetchChaostoolsOverview","fetchPublicChaostoolsList","version","anchor","history","query","push","request","chaostools","loading","style","marginTop","itemLayout","size","split","pagination","pageSize","dataSource","renderItem","item","Item","actions","UnorderedListOutlined","onClick","detail","bind","latest","ToolOutlined","deployed","MoreOutlined","extra","height","width","alt","src","logo","Meta","title","description","readme","React","Component","connect","state","toJS","dispatch","callback","Actions","Paragraph","Content","children","extraContent","flex","className","ChaostoolsMarket","headerRender","paddingBottom","subTitle","dashed"],"mappings":"0XAyBMA,E,kDAEF,WAAYC,GAAQ,uCACVA,G,wEAGmB,IAAD,QAExBC,EADgCC,KAAKF,MAA9BC,wBAEH,SAAAE,GAAS,IACEC,EAAWD,EAAXC,QACFC,IAAEC,QAAQF,IACXA,EAAQG,KAAI,SAAAC,GACR,EAAKC,wBAAwBD,W,8CAOzBA,GAAO,IACpBC,EAA2BP,KAAKF,MAAhCS,wBACPA,EAAwBD,K,0CAIxBN,KAAKQ,8B,6BAGFF,EAAMG,EAASC,GAAS,IACpBC,EAAWX,KAAKF,MAAhBa,QACHC,EAAQ,CAACN,OAAMG,WACdN,IAAEC,QAAQM,KACXE,EAAK,2BAAOA,GAAP,IAAcF,YAEvBC,EAAQE,KAAR,qCAA2CC,IAAA,eAA8BF,Q,+BAGpEN,EAAMG,GAAU,IAEjBG,EAAQ,CAACN,OAAMG,WADDT,KAAKF,MAAhBa,QAECE,KAAR,uCAA6CC,IAAA,eAA8BF,Q,+BAGrE,IAAD,SACyBZ,KAAKF,MAA5BiB,EADF,EACEA,WAAYC,EADd,EACcA,QACnB,OACI,mBACIA,QAASA,EACTC,MAAO,CAACC,UAAW,IACnBC,WAAW,WACXC,KAAK,QACLC,OAAK,EACLC,WAAY,CACRC,SAAU,IAEdC,WAAYT,GAA0B,GACtCU,WAAY,SAAAC,GAAI,OACZ,mBAAMC,KAAN,CAEIC,QAAS,CACL,8BACI,cAACC,EAAA,EAAD,IACA,mBAAGC,QAAS,EAAKC,OAAOC,KAAK,EAAMN,EAAKpB,KAAMoB,EAAKO,OAAQ,aAA3D,yCAIJ,8BACI,cAACC,EAAA,EAAD,IACA,mBAAGJ,QAAS,EAAKK,SAASH,KAAK,EAAMN,EAAKpB,KAAMoB,EAAKO,OAAQ,YAA7D,yCAIJ,8BACI,cAACG,EAAA,EAAD,IACA,mBAAGN,QAAS,EAAKC,OAAOC,KAAK,EAAMN,EAAKpB,KAAMoB,EAAKO,OAAQ,eAA3D,sDAGRI,MACI,qBACIC,OAAQ,IACRC,MAAO,IACPC,IAAI,OACJC,IAAKf,EAAKgB,OAzBtB,UA6BI,kBAAMf,KAAKgB,KAAX,CACIC,MAAO,oBACHd,QAAS,EAAKC,OAAOC,KAAK,EAAMN,EAAKpB,KAAMoB,EAAKO,OAAQ,eADrD,UACsEP,EAAKkB,MAD3E,KACoFlB,EAAKO,OADzF,OAEPY,YAAanB,EAAKmB,cAErBnB,EAAKoB,SAjCDpB,EAAKkB,c,GA3DTG,IAAMC,WAoHhBC,eAhBS,SAAAC,GACpB,IAAMnC,EAAamC,EAAMnC,WAAWoC,OACpC,MAAO,CACHpC,WAAYA,EAAWA,WACvBb,QAASa,EAAWb,QACpBc,QAASD,EAAWC,YAID,SAAAoC,GACvB,MAAO,CACHrD,sBAAuB,SAAAsD,GAAQ,OAAID,EAASE,IAAQvD,sBAAsBsD,KAC1E9C,wBAAyB,SAAAD,GAAI,OAAI8C,EAASE,IAAQ/C,wBAAwBD,QAInE2C,CAA6CpD,GCxHrD0D,E,IAAAA,UAQDC,EAAU,SAAC,GAAD,IAAEC,EAAF,EAAEA,SAAUC,EAAZ,EAAYA,aAAZ,OACZ,8BACI,qBAAKzC,MAAO,CAAC0C,KAAM,GAAnB,SAAwBF,IACxB,qBAAKG,UAAU,QAAf,SAAwBF,QAI1BG,E,4MAEFC,aAAe,WACX,OACI,mBACI7C,MAAO,CAAC8C,cAAe,IACvBnB,MAAM,mDACNoB,SAAS,wEAHb,SAMI,eAAC,EAAD,WACI,cAACT,EAAD,uCAGA,cAACA,EAAD,gH,uDASZ,OACI,gCACKvD,KAAK8D,eACN,mBAASG,QAAM,IACf,cAAC,EAAD,CAAYtD,QAASX,KAAKF,MAAMa,iB,GA3BjBoC,IAAMC,WAiCtBa","file":"static/js/20.9fbd19d3.chunk.js","sourcesContent":["/*\n * Copyright 1999-2021 Alibaba Group Holding Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport {connect} from \"react-redux\";\nimport Actions from \"../../../actions/Actions\";\nimport {List, Space} from \"antd\";\nimport _ from 'lodash';\nimport * as request from \"../../Machine/libs/request\";\nimport {MoreOutlined, ToolOutlined, UnorderedListOutlined} from \"@ant-design/icons\";\n\n\nclass MarketList extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    fetchPublicChaostoolsList() {\n        const {fetchPublicChaostools} = this.props;\n        fetchPublicChaostools(\n            data => {\n                const {publics} = data;\n                if (!_.isEmpty(publics)) {\n                    publics.map(name => {\n                        this.fetchChaostoolsOverview(name);\n                    })\n                }\n            }\n        );\n    }\n\n    fetchChaostoolsOverview(name) {\n        const {fetchChaostoolsOverview} = this.props;\n        fetchChaostoolsOverview(name);\n    }\n\n    componentDidMount() {\n        this.fetchPublicChaostoolsList();\n    }\n\n    detail(name, version, anchor) {\n        const {history} = this.props;\n        let query = {name, version};\n        if (!_.isEmpty(anchor)) {\n            query = {...query, anchor}\n        }\n        history.push(`/chaostools/market/detail/?${request.generateUrlSearch({...query})}`);\n    }\n\n    deployed(name, version) {\n        const {history} = this.props;\n        let query = {name, version};\n        history.push(`/chaostools/market/deployed/?${request.generateUrlSearch({...query})}`);\n    }\n\n    render() {\n        const {chaostools, loading} = this.props;\n        return (\n            <List\n                loading={loading}\n                style={{marginTop: 16}}\n                itemLayout=\"vertical\"\n                size=\"large\"\n                split\n                pagination={{\n                    pageSize: 10,\n                }}\n                dataSource={chaostools ? chaostools : []}\n                renderItem={item => (\n                    <List.Item\n                        key={item.title}\n                        actions={[\n                            <Space>\n                                <UnorderedListOutlined/>\n                                <a onClick={this.detail.bind(this, item.name, item.latest, \"scenarios\")}>\n                                    场景管理\n                                </a>\n                            </Space>,\n                            <Space>\n                                <ToolOutlined/>\n                                <a onClick={this.deployed.bind(this, item.name, item.latest, \"deployed\")}>\n                                    工具管理\n                                </a>\n                            </Space>,\n                            <Space>\n                                <MoreOutlined/>\n                                <a onClick={this.detail.bind(this, item.name, item.latest, \"information\")}>查看更多详情</a>\n                            </Space>,\n                        ]}\n                        extra={\n                            <img\n                                height={150}\n                                width={200}\n                                alt=\"logo\"\n                                src={item.logo}\n                            />\n                        }\n                    >\n                        <List.Item.Meta\n                            title={<a\n                                onClick={this.detail.bind(this, item.name, item.latest, \"information\")}>{item.title}(v{item.latest})</a>}\n                            description={item.description}\n                        />\n                        {item.readme}\n                    </List.Item>\n                )}\n            />\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    const chaostools = state.chaostools.toJS();\n    return {\n        chaostools: chaostools.chaostools,\n        publics: chaostools.publics,\n        loading: chaostools.loading,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        fetchPublicChaostools: callback => dispatch(Actions.fetchPublicChaostools(callback)),\n        fetchChaostoolsOverview: name => dispatch(Actions.fetchChaostoolsOverview(name)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketList);","/*\n * Copyright 1999-2021 Alibaba Group Holding Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport {Divider, PageHeader, Row, Space, Typography} from \"antd\";\nimport {GithubOutlined} from \"@ant-design/icons\";\nimport MarketList from \"./MarketList\";\n\nconst {Paragraph} = Typography;\nconst IconText = ({icon, text, onClick}) => (\n    <Space>\n        {React.createElement(icon)}\n        <a>{text}</a>\n    </Space>\n);\n\nconst Content = ({children, extraContent}) => (\n    <Row>\n        <div style={{flex: 1}}>{children}</div>\n        <div className=\"image\">{extraContent}</div>\n    </Row>\n);\n\nclass ChaostoolsMarket extends React.Component {\n\n    headerRender = () => {\n        return (\n            <PageHeader\n                style={{paddingBottom: 16}}\n                title=\"混沌实验工具市场\"\n                subTitle=\"选择有很多，将来会更多...\"\n                // tags={<IconText icon={GithubOutlined} text=\"Github\" key=\"list-vertical-star-o\"/>}\n            >\n                <Content>\n                    <Paragraph>\n                        市场介绍\n                    </Paragraph>\n                    <Paragraph>\n                        部署流程：导入场景-部署演练工具\n                    </Paragraph>\n                </Content>\n            </PageHeader>\n        );\n    }\n\n    render() {\n        return (\n            <div>\n                {this.headerRender()}\n                <Divider dashed/>\n                <MarketList history={this.props.history}/>\n            </div>\n        );\n    }\n}\n\nexport default ChaostoolsMarket;"],"sourceRoot":""}